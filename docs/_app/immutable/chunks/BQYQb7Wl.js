import"./DsnmJJEf.js";import{i as rt}from"./BYBh1i5e.js";import{o as Y}from"./vRF1iJV-.js";import{i as G,T as ct,ae as ft,b4 as dt,b5 as vt,U as ut,W as F,b6 as pt,aT as it,b7 as mt,M as gt,af as I,am as st,aq as K,ar as ht,b as z,a as R,an as nt,d as k,s as j,at as C,B as O,l as a,aj as Q,r as y,c as _t,f as wt,t as q,b8 as xt}from"./C5okW8af.js";import{p as T,i as bt}from"./Dp2nu8uH.js";import{e as $,i as J}from"./D1CnheT8.js";import{s as N,h as ot}from"./BH7PJOAW.js";import{t as yt,c as kt,s as V}from"./Dw7waIlT.js";import{b as Et,s as X,e as Z}from"./Bxl_imPy.js";import{b as tt}from"./CqatCodS.js";function U(e,t,s,o,r,d){var v=e.__className;if(G||v!==s||v===void 0){var w=yt(s,o);(!G||w!==e.getAttribute("class"))&&(w==null?e.removeAttribute("class"):e.className=w),e.__className=s}return d}const St=()=>performance.now(),H={tick:e=>requestAnimationFrame(e),now:()=>St(),tasks:new Set};function lt(){const e=H.now();H.tasks.forEach(t=>{t.c(e)||(H.tasks.delete(t),t.f())}),H.tasks.size!==0&&H.tick(lt)}function Ft(e){let t;return H.tasks.size===0&&H.tick(lt),{promise:new Promise(s=>{H.tasks.add(t={c:e,f:s})}),abort(){H.tasks.delete(t)}}}function W(e,t){it(()=>{e.dispatchEvent(new CustomEvent(t))})}function Tt(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(s=>s[0].toUpperCase()+s.slice(1)).join("")}function et(e){const t={},s=e.split(";");for(const o of s){const[r,d]=o.split(":");if(!r||d===void 0)break;const v=Tt(r.trim());t[v]=d.trim()}return t}const Ht=e=>e;function At(e,t,s,o){var r=(e&pt)!==0,d="both",v,w=t.inert,E=t.style.overflow,i,c;function p(){return it(()=>v??=s()(t,o?.()??{},{direction:d}))}var _={is_global:r,in(){t.inert=w,W(t,"introstart"),i=P(t,p(),c,1,()=>{W(t,"introend"),i?.abort(),i=v=void 0,t.style.overflow=E})},out(g){t.inert=!0,W(t,"outrostart"),c=P(t,p(),i,0,()=>{W(t,"outroend"),g?.()})},stop:()=>{i?.abort(),c?.abort()}},x=ct;if((x.transitions??=[]).push(_),Et){var m=r;if(!m){for(var n=x.parent;n&&(n.f&ft)!==0;)for(;(n=n.parent)&&(n.f&dt)===0;);m=!n||(n.f&vt)!==0}m&&ut(()=>{F(()=>_.in())})}}function P(e,t,s,o,r){var d=o===1;if(mt(t)){var v,w=!1;return gt(()=>{if(!w){var g=t({direction:d?"in":"out"});v=P(e,g,s,o,r)}}),{abort:()=>{w=!0,v?.abort()},deactivate:()=>v.deactivate(),reset:()=>v.reset(),t:()=>v.t()}}if(s?.deactivate(),!t?.duration)return r(),{abort:I,deactivate:I,reset:I,t:()=>o};const{delay:E=0,css:i,tick:c,easing:p=Ht}=t;var _=[];if(d&&s===void 0&&(c&&c(0,1),i)){var x=et(i(0,1));_.push(x,x)}var m=()=>1-o,n=e.animate(_,{duration:E,fill:"forwards"});return n.onfinish=()=>{n.cancel();var g=s?.t()??1-o;s?.abort();var S=o-g,b=t.duration*Math.abs(S),l=[];if(b>0){var f=!1;if(i)for(var A=Math.ceil(b/16.666666666666668),u=0;u<=A;u+=1){var L=g+S*p(u/A),M=et(i(L,1-L));l.push(M),f||=M.overflow==="hidden"}f&&(e.style.overflow="hidden"),m=()=>{var h=n.currentTime;return g+S*p(h/b)},c&&Ft(()=>{if(n.playState!=="running")return!1;var h=m();return c(h,1-h),!0})}n=e.animate(l,{duration:b,fill:"forwards"}),n.onfinish=()=>{m=()=>o,c?.(o,1-o),r()}},{abort:()=>{n&&(n.cancel(),n.effect=null,n.onfinish=I)},deactivate:()=>{r=I},reset:()=>{o===0&&c?.(1,0)},t:()=>m()}}function at(e){return function(...t){var s=t[0];return s.preventDefault(),e?.apply(this,t)}}const Kt=""+new URL("../assets/sofc-uoft-logo-white.DQHODoDx.svg",import.meta.url).href,Lt=e=>e;function Ct(e,{delay:t=0,duration:s=400,easing:o=Lt}={}){const r=+getComputedStyle(e).opacity;return{delay:t,duration:s,easing:o,css:d=>`opacity: ${d*r}`}}var Mt=z('<div class="image-container"><img loading="lazy"/></div>'),Ot=z("<div><div><!></div></div>"),Rt=z('<div class="scrolly-wrapper svelte-1o93pel"><div class="sticky-image svelte-1o93pel"></div> <!></div>');function Qt(e,t){st(t,!1);let s=T(t,"imageAlign",8,"center"),o=T(t,"imageWidth",8,"100%"),r=T(t,"imageHeight",8,"100%"),d=T(t,"textSectionAlign",8,"right"),v=T(t,"textSectionMaxWidth",8,"500px"),w=T(t,"fadeDuration",8,250),E=T(t,"sections",24,()=>[{image:"/images/1.jpg",text:"<h2>Header</h2> <p>body text </p>"},{image:"/images/2.jpg",text:"<h2>Header</h2> <p>body text </p>"},{image:"/images/3.jpg",text:"<h2>Header</h2> <p>body text </p>"}]),i=O(0),c=O(0),p=O("0px");Y(()=>{C(i,window.innerHeight);const l=()=>{C(i,window.innerHeight)};return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)});let _=O(),x=O(0),m=O([]);const n=()=>{let l=a(x);a(m).forEach((f,A)=>{const u=f.getBoundingClientRect();u.top<=window.innerHeight*.5&&u.bottom>window.innerHeight*.5&&(l=A)}),C(x,l)};Y(()=>(window.addEventListener("scroll",n),n(),()=>{window.removeEventListener("scroll",n)})),K(()=>(Q(r()),a(c),a(i)),()=>{if(typeof r()=="string"){if(r().includes("%")||r().includes("vh")||r().includes("dvh")){const l=parseFloat(r());C(p,`${(100-l)/2}dvh`)}else if(r().includes("px")){const l=parseFloat(r());C(c,Math.max(0,(a(i)-l)/2)),C(p,`${a(c)}px`)}}}),K(()=>(Q(r()),a(i),a(p)),()=>{console.log(r(),a(i),a(p))}),ht(),rt();var g=Rt(),S=k(g);$(S,5,E,J,(l,f,A)=>{var u=_t(),L=wt(u);{var M=h=>{var B=Mt(),D=k(B);y(B),q(()=>{U(D,1,kt(s()),"svelte-1o93pel"),N(D,"src",(a(f),F(()=>a(f).image))),N(D,"alt",(a(f),F(()=>a(f).heading))),V(D,`max-height: ${r()??""}; max-width: ${o()??""}; top: ${a(p)??""};`)}),At(3,D,()=>Ct,()=>({duration:w()})),R(h,B)};bt(L,h=>{a(x)===A&&h(M)})}R(l,u)}),y(S);var b=j(S,2);$(b,1,E,J,(l,f,A)=>{var u=Ot(),L=k(u),M=k(L);ot(M,()=>(a(f),F(()=>a(f).text))),y(L),y(u),tt(u,(h,B)=>xt(m,a(m)[B]=h),h=>a(m)?.[h],()=>[A]),q(h=>{U(u,1,`text-section ${d()??""}`,"svelte-1o93pel"),V(u,`max-width: ${v()??""};`),U(L,1,`text-wrapper ${h??""}`,"svelte-1o93pel")},[()=>(a(f),F(()=>a(f).text.trim()?"":"transparent"))]),R(l,u)}),y(g),tt(g,l=>C(_,l),()=>a(_)),R(e,g),nt()}var Bt=z('<div class="footnote-item svelte-18l7nt0"><sup class="svelte-18l7nt0"><a class="backlink svelte-18l7nt0"><b> </b></a></sup> <p style="display:inline" class="svelte-18l7nt0"><!></p> <a class="backlink svelte-18l7nt0">‚Æù</a></div>'),Dt=z('<div class="footnotes svelte-18l7nt0"><h2 class="svelte-18l7nt0"> </h2> <!></div>');function Jt(e,t){st(t,!1);let s=T(t,"footnotes",8),o=T(t,"footnoteListTitle",8,"References");rt();var r=Dt(),d=k(r),v=k(d,!0);y(d);var w=j(d,2);$(w,1,s,E=>E.id,(E,i)=>{var c=Bt(),p=k(c),_=k(p),x=k(_),m=k(x);y(x),y(_),y(p);var n=j(p,2),g=k(n);ot(g,()=>(a(i),F(()=>a(i).text))),y(n);var S=j(n,2);y(c),q(()=>{N(c,"id",(a(i),F(()=>`footnote-${a(i).id}`))),N(_,"href",(a(i),F(()=>`#footnote-ref-${a(i).id}`))),X(m,`[${a(i),F(()=>a(i).id)??""}]`),N(S,"href",(a(i),F(()=>`#footnote-ref-${a(i).id}`)))}),Z("click",_,at(()=>{const b=document.getElementById(`footnote-ref-${a(i).id}`),l=-100;if(b){const f=b.getBoundingClientRect().top+window.pageYOffset+l;window.scrollTo({top:f,behavior:"auto"})}})),Z("click",S,at(()=>{const b=document.getElementById(`footnote-ref-${a(i).id}`),l=-100;if(b){const f=b.getBoundingClientRect().top+window.pageYOffset+l;window.scrollTo({top:f,behavior:"auto"})}})),R(E,c)}),y(r),q(()=>X(v,o())),R(e,r),nt()}function It(e){return e.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/\*(?!\*)(.+?)\*/g,"<em>$1</em>").replace(/\[([^\]]+)]\(([^)]+)\)/g,'<a href="$2" target="_blank">$1</a>')}function Vt(){let e=[];function t(s){const o=e.length+1,r=It(s);return e.push({id:o,text:r}),[o,r]}return{get footnotes(){return e},addFootnote:t}}export{Jt as F,Kt as L,Qt as S,Vt as c,at as p,U as s};

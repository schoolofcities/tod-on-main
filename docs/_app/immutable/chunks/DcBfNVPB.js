import"./DsnmJJEf.js";import{i as Y}from"./-kem-dYP.js";import{b,t as G,a as u,d as n,e as R,r as o,p as D,g as F,h as f,m as W,i as E}from"./DXQnOiOb.js";import{p as s,i as T,b as H}from"./ByJ3XkeI.js";import{h as I,s as p}from"./DTjFS34O.js";import{s as U}from"./DyeV8TYr.js";import{o as M,a as O}from"./Dtzcsdx-.js";var P=b('<a target="_blank" class="svelte-6sbfs"><img loading="lazy" class="svelte-6sbfs"/></a>'),j=b('<img loading="lazy" class="svelte-6sbfs"/>'),q=b('<div class="img-container svelte-6sbfs"><!> <div class="caption-container"><p><span class="caption-text"><!></span> <span class="caption-source"><!></span></p></div></div>');function $(S,t){let v=s(t,"imageURL",8,""),w=s(t,"caption",8,""),V=s(t,"source",8,""),c=s(t,"altText",8,""),_=s(t,"maxWidth",8,""),d=s(t,"link",8,"Yes");var i=q(),x=n(i);{var z=m=>{var r=P(),L=n(r);o(r),G(()=>{p(r,"href",v()),p(L,"src",v()),p(L,"alt",c())}),u(m,r)},y=m=>{var r=j();G(()=>{p(r,"src",v()),p(r,"alt",c())}),u(m,r)};T(x,m=>{d()==="Yes"?m(z):m(y,!1)})}var l=R(x,2),k=n(l),g=n(k),a=n(g);I(a,w),o(g);var e=R(g,2),h=n(e);I(h,V),o(e),o(k),o(l),o(i),G(()=>U(i,`max-width: ${_()??""};`)),u(S,i)}var A=b('<div class="svg-container svelte-1bvhk27"><!></div>'),B=b('<div class="svg-container-wrapper svelte-1bvhk27"><!></div>');function aa(S,t){D(t,!1);let v=s(t,"svg1080",8,""),w=s(t,"svg720",8,""),V=s(t,"svg360",8,""),c=W(""),_=W(0),d=W(),i;function x(a){return a>=1080&&v()?[v(),1080]:a>=720&&w()?[w(),720]:[V(),360]}async function z(a){try{const e=await fetch(a);if(!e.ok)throw new Error(`Failed to load SVG from ${a}`);return await e.text()}catch(e){return console.error(`Error loading SVG from ${a}:`,e),""}}async function y(a){const[e,h]=x(a);E(_,h),E(c,await z(e))}M(()=>{const a=new IntersectionObserver(async([e])=>{e.isIntersecting&&(await y(window.innerWidth),i=()=>y(window.innerWidth),window.addEventListener("resize",i),a.disconnect())});f(d)&&a.observe(f(d)),O(()=>{window.removeEventListener("resize",i)})}),Y();var l=B(),k=n(l);{var g=a=>{var e=A(),h=n(e);I(h,()=>f(c)),o(e),G(()=>U(e,`--svg-width: ${f(_)??""}px;`)),u(a,e)};T(k,a=>{f(c)&&a(g)})}o(l),H(l,a=>E(d,a),()=>f(d)),u(S,l),F()}export{aa as G,$ as I};

import"./DsnmJJEf.js";import{i as O}from"./BuxBZ4Hg.js";import{o as P,a as U,e as _,s as S}from"./Br2vksZ1.js";import{p as j,b as x,t as I,a as y,i as M,g as s,m as G,r as i,h as m,d as c,e as E,u as k,j as D}from"./WWcATLjB.js";import{e as z,i as Y,h as R,s as $}from"./mtk1iDOn.js";import{s as A}from"./Cvj2BFIs.js";import{p as B,b as H,i as W}from"./B1vXdi_K.js";function C(l){return function(...a){var t=a[0];return t.preventDefault(),l?.apply(this,a)}}const X=""+new URL("../assets/sofc-uoft-logo-white-colour.BXkjstT2.svg",import.meta.url).href;var q=x('<div class="svg-box svelte-1j7sg4u"><!></div>'),J=x("<div></div>");function ce(l,a){j(a,!1);let t=B(a,"svgPaths",24,()=>[]),r=G(""),f=G([]),p=G();const u=()=>{const e=window.innerWidth;t().length===2?m(r,e<740?"stack-2":"row-2"):t().length===3?e<360*3?m(r,e<740?"stack-3":"two-plus-one"):m(r,"row-3"):t().length===4&&m(r,e<740?"stack-4":"grid-2x2")};async function w(e){try{const n=await fetch(e);if(!n.ok)throw new Error(`Failed to load SVG from ${e}`);return await n.text()}catch(n){return console.error(`Error loading SVG from ${e}:`,n),""}}async function v(){const e=[];for(const n of t()){const d=await w(n);e.push(d)}m(f,e)}P(()=>{const e=new IntersectionObserver(async([n])=>{n.isIntersecting&&(await v(),u(),window.addEventListener("resize",u),e.disconnect())},{rootMargin:"200px"});s(p)&&e.observe(s(p)),U(()=>{window.removeEventListener("resize",u)})}),O();var o=J();z(o,5,()=>s(f),Y,(e,n)=>{var d=q(),g=c(d);R(g,()=>s(n)),i(d),y(e,d)}),i(o),H(o,e=>m(p,e),()=>s(p)),I(()=>A(o,1,`svg-grid ${s(r)??""}`,"svelte-1j7sg4u")),y(l,o),M()}var K=x('<div class="footer svelte-9sff3o"><div class="footer-content svelte-9sff3o"><a href="https://schoolofcities.utoronto.ca/" target="_blank" class="logo-link"><img alt="University of Toronto and School of Cities logos" class="logos svelte-9sff3o"/></a></div></div>');function ve(l){var a=K(),t=c(a),r=c(t),f=c(r);i(r),i(t),i(a),I(()=>$(f,"src",X)),y(l,a)}var N=x('<div class="footnoteTooltip svelte-rfdlgb"><p class="svelte-rfdlgb"> <!></p></div>'),Q=x('<span class="footnote-ref-wrapper svelte-rfdlgb"><a class="footnote-ref svelte-rfdlgb"><span style="margin-left: -4px;"> </span></a> <!></span>');function fe(l,a){j(a,!1);let t=B(a,"id",8),r=`footnote-${t()[0]}`,f=`footnote-ref-${t()[0]}`,p=t()[1],u=G(!1);O();var w=Q(),v=c(w),o=c(v),e=c(o);i(o),i(v);var n=E(v,2);{var d=g=>{var h=N(),F=c(h),T=c(F),b=E(T);R(b,()=>p),i(F),i(h),I(()=>S(T,`[${D(t()),k(()=>t()[0])??""}] `)),_("mouseenter",h,()=>m(u,!0)),_("mouseleave",h,()=>m(u,!1)),y(g,h)};W(n,g=>{s(u)&&g(d)})}i(w),I(()=>{$(v,"id",f),$(v,"href",`#${r}`),S(e,` [${D(t()),k(()=>t()[0])??""}]`)}),_("click",v,C(()=>{const g=document.getElementById(r);g&&g.scrollIntoView({behavior:"auto",block:"start"})})),_("mouseenter",v,()=>m(u,!0)),_("mouseleave",v,()=>m(u,!1)),y(l,w),M()}var Z=x('<div class="footnote-item svelte-18l7nt0"><sup class="svelte-18l7nt0"><a class="backlink svelte-18l7nt0"> </a></sup> <p style="display:inline" class="svelte-18l7nt0"><!></p> <a class="backlink svelte-18l7nt0">⮝</a></div>'),ee=x('<div class="footnotes svelte-18l7nt0"><h2 class="svelte-18l7nt0"> </h2> <!></div>');function de(l,a){j(a,!1);let t=B(a,"footnotes",8),r=B(a,"footnoteListTitle",8,"References");O();var f=ee(),p=c(f),u=c(p,!0);i(p);var w=E(p,2);z(w,1,t,v=>v.id,(v,o)=>{var e=Z(),n=c(e),d=c(n),g=c(d);i(d),i(n);var h=E(n,2),F=c(h);R(F,()=>(s(o),k(()=>s(o).text))),i(h);var T=E(h,2);i(e),I(()=>{$(e,"id",(s(o),k(()=>`footnote-${s(o).id}`))),$(d,"href",(s(o),k(()=>`#footnote-ref-${s(o).id}`))),S(g,`[${s(o),k(()=>s(o).id)??""}]`),$(T,"href",(s(o),k(()=>`#footnote-ref-${s(o).id}`)))}),_("click",d,C(()=>{const b=document.getElementById(`footnote-ref-${s(o).id}`),L=-100;if(b){const V=b.getBoundingClientRect().top+window.pageYOffset+L;window.scrollTo({top:V,behavior:"auto"})}})),_("click",T,C(()=>{const b=document.getElementById(`footnote-ref-${s(o).id}`),L=-100;if(b){const V=b.getBoundingClientRect().top+window.pageYOffset+L;window.scrollTo({top:V,behavior:"auto"})}})),y(v,e)}),i(f),I(()=>S(u,r())),y(l,f),M()}function te(l){return l.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/\*(?!\*)(.+?)\*/g,"<em>$1</em>").replace(/\[([^\]]+)]\(([^)]+)\)/g,'<a href="$2" target="_blank">$1</a>')}function ue(){let l=[];function a(t){const r=l.length+1,f=te(t);return l.push({id:r,text:f}),[r,f]}return{get footnotes(){return l},addFootnote:a}}export{fe as F,ce as G,de as a,ve as b,ue as c,X as l};

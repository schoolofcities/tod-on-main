import"./DsnmJJEf.js";import{i as Ee}from"./CdgWqPOb.js";import{o as le}from"./D-XAltpJ.js";import{a3 as be,x as De,aU as ye,a1 as j,y as L,I as Be,z as ze,R as c,ag as We,Z as qe,_ as Ye,a0 as fe,a2 as ee,H as q,ar as $e,aO as Ue,D as ie,a6 as Ve,aV as P,aW as Z,a4 as Xe,aq as ve,aQ as B,ao as de,aM as Te,i as Ge,a7 as Ae,a8 as Ke,aX as Pe,aY as te,q as Se,G as ke,aZ as Ze,aC as Je,a_ as Qe,aL as je,a$ as et,ae as Ce,E as tt,b0 as at,b1 as rt,e as it,u as F,b2 as nt,aE as Ie,b3 as st,F as Y,W as He,b4 as ue,b5 as ot,J as U,a as z,X as Me,L as I,N as G,ad as D,T as ce,M as C,c as lt,f as ft,K,b6 as vt}from"./DCFZ6FvJ.js";import{p as R,i as dt}from"./C7sHVnbV.js";import{t as ut,c as ct,s as $,a as pe,h as Ne}from"./BsYSHRI6.js";import{b as pt,s as he,e as _e}from"./Opun_EZ0.js";import{b as me}from"./DErZuGze.js";function ge(a,e){return e}function ht(a,e,t){for(var n=a.items,i=[],d=e.length,f=0;f<d;f++)Qe(e[f].e,i,!0);var _=d>0&&i.length===0&&t!==null;if(_){var T=t.parentNode;je(T),T.append(t),n.clear(),N(a,e[0].prev,e[d-1].next)}et(i,()=>{for(var l=0;l<d;l++){var p=e[l];_||(n.delete(p.k),N(a,p.prev,p.next)),ke(p.e,!_)}})}function ne(a,e,t,n,i,d=null){var f=a,_={flags:e,items:new Map,first:null},T=(e&ye)!==0;if(T){var l=a;f=L?j(Be(l)):l.appendChild(be())}L&&ze();var p=null,E=!1,b=new Map,A=We(()=>{var m=t();return Ge(m)?m:m==null?[]:Te(m)}),s,o;function v(){_t(o,s,_,b,f,i,e,n,t),d!==null&&(s.length===0?p?Ae(p):p=ie(()=>d(f)):p!==null&&Ke(p,()=>{p=null}))}De(()=>{o??=Ce,s=c(A);var m=s.length;if(E&&m===0)return;E=m===0;let w=!1;if(L){var h=qe(f)===Ye;h!==(m===0)&&(f=fe(),j(f),ee(!1),w=!0)}if(L){for(var g=null,x,r=0;r<m;r++){if(q.nodeType===$e&&q.data===Ue){f=q,w=!0,ee(!1);break}var u=s[r],y=n(u,r);x=se(q,_,g,null,u,y,r,i,e,t),_.items.set(y,x),g=x}m>0&&j(fe())}if(L)m===0&&d&&(p=ie(()=>d(f)));else if(Ve()){var S=new Set,H=Xe;for(r=0;r<m;r+=1){u=s[r],y=n(u,r);var k=_.items.get(y)??b.get(y);k?(e&(P|Z))!==0&&Fe(k,u,r,e):(x=se(null,_,null,null,u,y,r,i,e,t,!0),b.set(y,x)),S.add(y)}for(const[M,V]of _.items)S.has(M)||H.skipped_effects.add(V.e);H.add_callback(v)}else v();w&&ee(!0),c(A)}),L&&(f=q)}function _t(a,e,t,n,i,d,f,_,T){var l=(f&Ze)!==0,p=(f&(P|Z))!==0,E=e.length,b=t.items,A=t.first,s=A,o,v=null,m,w=[],h=[],g,x,r,u;if(l)for(u=0;u<E;u+=1)g=e[u],x=_(g,u),r=b.get(x),r!==void 0&&(r.a?.measure(),(m??=new Set).add(r));for(u=0;u<E;u+=1){if(g=e[u],x=_(g,u),r=b.get(x),r===void 0){var y=n.get(x);if(y!==void 0){n.delete(x),b.set(x,y);var S=v?v.next:s;N(t,v,y),N(t,y,S),ae(y,S,i),v=y}else{var H=s?s.e.nodes_start:i;v=se(H,t,v,v===null?t.first:v.next,g,x,u,d,f,T)}b.set(x,v),w=[],h=[],s=v.next;continue}if(p&&Fe(r,g,u,f),(r.e.f&te)!==0&&(Ae(r.e),l&&(r.a?.unfix(),(m??=new Set).delete(r))),r!==s){if(o!==void 0&&o.has(r)){if(w.length<h.length){var k=h[0],M;v=k.prev;var V=w[0],J=w[w.length-1];for(M=0;M<w.length;M+=1)ae(w[M],k,i);for(M=0;M<h.length;M+=1)o.delete(h[M]);N(t,V.prev,J.next),N(t,v,V),N(t,J,k),s=k,v=J,u-=1,w=[],h=[]}else o.delete(r),ae(r,s,i),N(t,r.prev,r.next),N(t,r,v===null?t.first:v.next),N(t,v,r),v=r;continue}for(w=[],h=[];s!==null&&s.k!==x;)(s.e.f&te)===0&&(o??=new Set).add(s),h.push(s),s=s.next;if(s===null)continue;r=s}w.push(r),v=r,s=r.next}if(s!==null||o!==void 0){for(var W=o===void 0?[]:Te(o);s!==null;)(s.e.f&te)===0&&W.push(s),s=s.next;var Q=W.length;if(Q>0){var Le=(f&ye)!==0&&E===0?i:null;if(l){for(u=0;u<Q;u+=1)W[u].a?.measure();for(u=0;u<Q;u+=1)W[u].a?.fix()}ht(t,W,Le)}}l&&Se(()=>{if(m!==void 0)for(r of m)r.a?.apply()}),a.first=t.first&&t.first.e,a.last=v&&v.e;for(var Oe of n.values())ke(Oe.e);n.clear()}function Fe(a,e,t,n){(n&P)!==0&&ve(a.v,e),(n&Z)!==0?ve(a.i,t):a.i=t}function se(a,e,t,n,i,d,f,_,T,l,p){var E=(T&P)!==0,b=(T&Pe)===0,A=E?b?B(i,!1,!1):de(i):i,s=(T&Z)===0?f:de(f),o={i:s,v:A,k:d,a:null,e:null,prev:t,next:n};try{if(a===null){var v=document.createDocumentFragment();v.append(a=be())}return o.e=ie(()=>_(a,A,s,l),L),o.e.prev=t&&t.e,o.e.next=n&&n.e,t===null?p||(e.first=o):(t.next=o,t.e.next=o.e),n!==null&&(n.prev=o,n.e.prev=o.e),o}finally{}}function ae(a,e,t){for(var n=a.next?a.next.e.nodes_start:t,i=e?e.e.nodes_start:t,d=a.e.nodes_start;d!==null&&d!==n;){var f=Je(d);i.before(d),d=f}}function N(a,e,t){e===null?a.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function re(a,e,t,n,i,d){var f=a.__className;if(L||f!==t||f===void 0){var _=ut(t,n);(!L||_!==a.getAttribute("class"))&&(_==null?a.removeAttribute("class"):a.className=_),a.__className=t}return d}const mt=()=>performance.now(),O={tick:a=>requestAnimationFrame(a),now:()=>mt(),tasks:new Set};function Re(){const a=O.now();O.tasks.forEach(e=>{e.c(a)||(O.tasks.delete(e),e.f())}),O.tasks.size!==0&&O.tick(Re)}function gt(a){let e;return O.tasks.size===0&&O.tick(Re),{promise:new Promise(t=>{O.tasks.add(e={c:a,f:t})}),abort(){O.tasks.delete(e)}}}function X(a,e){Ie(()=>{a.dispatchEvent(new CustomEvent(e))})}function wt(a){if(a==="float")return"cssFloat";if(a==="offset")return"cssOffset";if(a.startsWith("--"))return a;const e=a.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function we(a){const e={},t=a.split(";");for(const n of t){const[i,d]=n.split(":");if(!i||d===void 0)break;const f=wt(i.trim());e[f]=d.trim()}return e}const xt=a=>a;function Et(a,e,t,n){var i=(a&nt)!==0,d="both",f,_=e.inert,T=e.style.overflow,l,p;function E(){return Ie(()=>f??=t()(e,n?.()??{},{direction:d}))}var b={is_global:i,in(){e.inert=_,X(e,"introstart"),l=oe(e,E(),p,1,()=>{X(e,"introend"),l?.abort(),l=f=void 0,e.style.overflow=T})},out(v){e.inert=!0,X(e,"outrostart"),p=oe(e,E(),l,0,()=>{X(e,"outroend"),v?.()})},stop:()=>{l?.abort(),p?.abort()}},A=Ce;if((A.transitions??=[]).push(b),pt){var s=i;if(!s){for(var o=A.parent;o&&(o.f&tt)!==0;)for(;(o=o.parent)&&(o.f&at)===0;);s=!o||(o.f&rt)!==0}s&&it(()=>{F(()=>b.in())})}}function oe(a,e,t,n,i){var d=n===1;if(st(e)){var f,_=!1;return Se(()=>{if(!_){var v=e({direction:d?"in":"out"});f=oe(a,v,t,n,i)}}),{abort:()=>{_=!0,f?.abort()},deactivate:()=>f.deactivate(),reset:()=>f.reset(),t:()=>f.t()}}if(t?.deactivate(),!e?.duration)return i(),{abort:Y,deactivate:Y,reset:Y,t:()=>n};const{delay:T=0,css:l,tick:p,easing:E=xt}=e;var b=[];if(d&&t===void 0&&(p&&p(0,1),l)){var A=we(l(0,1));b.push(A,A)}var s=()=>1-n,o=a.animate(b,{duration:T,fill:"forwards"});return o.onfinish=()=>{o.cancel();var v=t?.t()??1-n;t?.abort();var m=n-v,w=e.duration*Math.abs(m),h=[];if(w>0){var g=!1;if(l)for(var x=Math.ceil(w/16.666666666666668),r=0;r<=x;r+=1){var u=v+m*E(r/x),y=we(l(u,1-u));h.push(y),g||=y.overflow==="hidden"}g&&(a.style.overflow="hidden"),s=()=>{var S=o.currentTime;return v+m*E(S/w)},p&&gt(()=>{if(o.playState!=="running")return!1;var S=s();return p(S,1-S),!0})}o=a.animate(h,{duration:w,fill:"forwards"}),o.onfinish=()=>{s=()=>n,p?.(n,1-n),i()}},{abort:()=>{o&&(o.cancel(),o.effect=null,o.onfinish=Y)},deactivate:()=>{i=Y},reset:()=>{n===0&&p?.(1,0)},t:()=>s()}}function xe(a){return function(...e){var t=e[0];return t.preventDefault(),a?.apply(this,e)}}const bt=a=>a;function yt(a,{delay:e=0,duration:t=400,easing:n=bt}={}){const i=+getComputedStyle(a).opacity;return{delay:e,duration:t,easing:n,css:d=>`opacity: ${d*i}`}}var Tt=U('<div class="image-container"><img loading="lazy"/></div>'),At=U("<div><div><!></div></div>"),St=U('<div class="scrolly-wrapper svelte-1o93pel"><div class="sticky-image svelte-1o93pel"></div> <!></div>');function Bt(a,e){He(e,!1);let t=R(e,"imageAlign",8,"center"),n=R(e,"imageWidth",8,"100%"),i=R(e,"imageHeight",8,"100%"),d=R(e,"textSectionAlign",8,"right"),f=R(e,"textSectionMaxWidth",8,"500px"),_=R(e,"fadeDuration",8,250),T=R(e,"sections",24,()=>[{image:"/images/1.jpg",text:"<h2>Header</h2> <p>body text </p>"},{image:"/images/2.jpg",text:"<h2>Header</h2> <p>body text </p>"},{image:"/images/3.jpg",text:"<h2>Header</h2> <p>body text </p>"}]),l=B(0),p=B(0),E=B("0px");le(()=>{D(l,window.innerHeight);const h=()=>{D(l,window.innerHeight)};return window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)});let b=B(),A=B(0),s=B([]);const o=()=>{let h=c(A);c(s).forEach((g,x)=>{const r=g.getBoundingClientRect();r.top<=window.innerHeight*.5&&r.bottom>window.innerHeight*.5&&(h=x)}),D(A,h)};le(()=>(window.addEventListener("scroll",o),o(),()=>{window.removeEventListener("scroll",o)})),ue(()=>(ce(i()),c(p),c(l)),()=>{if(typeof i()=="string"){if(i().includes("%")||i().includes("vh")||i().includes("dvh")){const h=parseFloat(i());D(E,`${(100-h)/2}dvh`)}else if(i().includes("px")){const h=parseFloat(i());D(p,Math.max(0,(c(l)-h)/2)),D(E,`${c(p)}px`)}}}),ue(()=>(ce(i()),c(l),c(E)),()=>{console.log(i(),c(l),c(E))}),ot(),Ee();var v=St(),m=I(v);ne(m,5,T,ge,(h,g,x)=>{var r=lt(),u=ft(r);{var y=S=>{var H=Tt(),k=I(H);C(H),K(()=>{re(k,1,ct(t()),"svelte-1o93pel"),$(k,"src",(c(g),F(()=>c(g).image))),$(k,"alt",(c(g),F(()=>c(g).heading))),pe(k,`max-height: ${i()??""}; max-width: ${n()??""}; top: ${c(E)??""};`)}),Et(3,k,()=>yt,()=>({duration:_()})),z(S,H)};dt(u,S=>{c(A)===x&&S(y)})}z(h,r)}),C(m);var w=G(m,2);ne(w,1,T,ge,(h,g,x)=>{var r=At(),u=I(r),y=I(u);Ne(y,()=>(c(g),F(()=>c(g).text))),C(u),C(r),me(r,(S,H)=>vt(s,c(s)[H]=S),S=>c(s)?.[S],()=>[x]),K(S=>{re(r,1,`text-section ${d()??""}`,"svelte-1o93pel"),pe(r,`max-width: ${f()??""};`),re(u,1,`text-wrapper ${S??""}`,"svelte-1o93pel")},[()=>(c(g),F(()=>c(g).text.trim()?"":"transparent"))]),z(h,r)}),C(v),me(v,h=>D(b,h),()=>c(b)),z(a,v),Me()}var kt=U('<div class="footnote-item svelte-18l7nt0"><sup class="svelte-18l7nt0"><a class="backlink svelte-18l7nt0"><b> </b></a></sup> <p style="display:inline" class="svelte-18l7nt0"><!></p> <a class="backlink svelte-18l7nt0">‚Æù</a></div>'),Ct=U('<div class="footnotes svelte-18l7nt0"><h2 class="svelte-18l7nt0"> </h2> <!></div>');function zt(a,e){He(e,!1);let t=R(e,"footnotes",8),n=R(e,"footnoteListTitle",8,"References");Ee();var i=Ct(),d=I(i),f=I(d,!0);C(d);var _=G(d,2);ne(_,1,t,T=>T.id,(T,l)=>{var p=kt(),E=I(p),b=I(E),A=I(b),s=I(A);C(A),C(b),C(E);var o=G(E,2),v=I(o);Ne(v,()=>(c(l),F(()=>c(l).text))),C(o);var m=G(o,2);C(p),K(()=>{$(p,"id",(c(l),F(()=>`footnote-${c(l).id}`))),$(b,"href",(c(l),F(()=>`#footnote-ref-${c(l).id}`))),he(s,`[${c(l),F(()=>c(l).id)??""}]`),$(m,"href",(c(l),F(()=>`#footnote-ref-${c(l).id}`)))}),_e("click",b,xe(()=>{const w=document.getElementById(`footnote-ref-${c(l).id}`),h=-100;if(w){const g=w.getBoundingClientRect().top+window.pageYOffset+h;window.scrollTo({top:g,behavior:"auto"})}})),_e("click",m,xe(()=>{const w=document.getElementById(`footnote-ref-${c(l).id}`),h=-100;if(w){const g=w.getBoundingClientRect().top+window.pageYOffset+h;window.scrollTo({top:g,behavior:"auto"})}})),z(T,p)}),C(i),K(()=>he(f,n())),z(a,i),Me()}function It(a){return a.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/\*(?!\*)(.+?)\*/g,"<em>$1</em>").replace(/\[([^\]]+)]\(([^)]+)\)/g,'<a href="$2" target="_blank">$1</a>')}function Wt(){let a=[];function e(t){const n=a.length+1,i=It(t);return a.push({id:n,text:i}),[n,i]}return{get footnotes(){return a},addFootnote:e}}export{zt as F,Bt as S,Wt as c,ne as e,ge as i,xe as p,re as s};
